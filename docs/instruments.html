<h1>JSON Risk instruments guide</h1>

<p>JSON Risk supports the instrument types below:</p>

<ul>
<li>Fixed rate bonds (bond)</li>
<li>Floating rate bonds (floater)</li>
<li>Interest rate swaps (swap)</li>
<li>FX Spot/Forward (fxterm)</li>
<li>Loan (loan, to be implemented)</li>
<li>Equity (equity, to be implemented)</li>
</ul>

<h2>Single instrument JSON field definitions</h2>

<h3>Bond</h3>

<p>Fixed rate plain vanilla bond positions. Fields:</p>

<ul>
<li>maturity (date string (YYYY-MM-DD, YYYY/MM/DD, DD.MM.YYYY))</li>
<li>notional (number)</li>
<li>fixed_rate (number, coupon rate for fixed rate bonds)</li>
<li>tenor (number (0 for zerobond, 1 for one month, 3 for quarterly, 6 for semiannual and 12 for annual interest rate periods. Other positive integers are also interpreted as monthly periods)</li>
</ul>

<p>Optional (improving pricing accuracy or adding features):</p>

<ul>
<li>effective_date (date string)</li>
<li>first_date (date string)</li>
<li>next_to_last_date (date string)</li>
<li>calendar (string)</li>
<li>bdc (string)</li>
<li>dcc (string)</li>
<li>settlement_days (number)</li>
<li>residual_spread (number, discounting spread over yield and spread curves)</li>
<li>currency</li>
</ul>

<h3>Floater</h3>

<p>Floating rate plain vanilla bond positions. Fields:</p>

<ul>
<li>maturity (date string (YYYY-MM-DD, YYYY/MM/DD, DD.MM.YYYY))</li>
<li>notional (number)</li>
<li>float_spread (number, coupon spread for floater)</li>
<li>tenor (number (0 for zerobond, 1 for one month, 3 for quarterly, 6 for semiannual and 12 for annual interest rate periods. Other positive integers are also interpreted as monthly periods)</li>
</ul>

<p>Optional (improving pricing accuracy or adding features):</p>

<ul>
<li>effective_date (date string)</li>
<li>first_date (date string)</li>
<li>next_to_last_date (date string)</li>
<li>calendar (string)</li>
<li>bdc (string)</li>
<li>dcc (string)</li>
<li>settlement_days (number)</li>
<li>float_current_rate (number, current rate for floater)</li>
<li>residual_spread (number, discounting spread over yield and spread curves)</li>
<li>currency</li>
</ul>

<h3>Swap</h3>

<p>Plain vanilla swap positions. Fields:</p>

<ul>
<li>is_payer (boolean, true for swap paying fixed rate, false for swap receiving fixed rate)</li>
<li>maturity (date string (YYYY-MM-DD, YYYY/MM/DD, DD.MM.YYYY))</li>
<li>notional (number)</li>
<li>fixed_rate (number, coupon rate for fixed leg)</li>
<li>tenor (number (0 for zerobond, 1 for one month, 3 for quarterly, 6 for semiannual and 12 for annual interest rate periods. Other positive integers are also interpreted as monthly periods)</li>
<li>float_spread (number, spread above index for float leg)</li>
<li>float_tenor (number (0 for zerobond, 1 for one month, 3 for quarterly, 6 for semiannual and 12 for annual interest rate periods. Other positive integers are also interpreted as monthly periods)</li>
</ul>

<p>Optional (improving pricing accuracy or adding features):</p>

<ul>
<li>effective_date (date string)</li>
<li>calendar (string)</li>
<li>bdc (string)</li>
<li>float_bdc (string)</li>
<li>dcc (string)</li>
<li>float_dcc (string)</li>
<li>float_current_rate (number, current rate for float leg)</li>
<li>residual_spread (number, discounting spread over yield and spread curves)</li>
<li>currency</li>
</ul>

<h3>Swaption</h3>

<p>Vanilla swaption positions. Fields:</p>

<ul>
<li>is_payer (boolean, true if underlying swap pays fixed rate, false if underlying swap receives fixed rate)</li>
<li>is_short (boolean, true for short swaption, false for long swaptions which is the default)</li>
<li>maturity (date string (YYYY-MM-DD, YYYY/MM/DD, DD.MM.YYYY) representing the final maturity date of the underlying swap)</li>
<li>expiry (date string (YYYY-MM-DD, YYYY/MM/DD, DD.MM.YYYY) representing the swaption expiry date, i.e., the settlement-upon-exercise date)</li>
<li>notional (number)</li>
<li>fixed_rate (number, coupon rate for fixed leg)</li>
<li>tenor (number (0 for zerobond, 1 for one month, 3 for quarterly, 6 for semiannual and 12 for annual interest rate periods. Other positive integers are also interpreted as monthly periods)</li>
<li>float_spread (number, spread above index for float leg)</li>
<li>float_tenor (number (0 for zerobond, 1 for one month, 3 for quarterly, 6 for semiannual and 12 for annual interest rate periods. Other positive integers are also interpreted as monthly periods)</li>
</ul>

<p>Optional (improving pricing accuracy or adding features):</p>

<ul>
<li>effective_date (date string)</li>
<li>calendar (string)</li>
<li>bdc (string)</li>
<li>float_bdc (string)</li>
<li>dcc (string)</li>
<li>float_dcc (string)</li>
<li>float_current_rate (number, current rate for float leg)</li>
<li>residual_spread (number, discounting spread over yield and spread curves)</li>
<li>currency</li>
</ul>

<h3>FXTerm</h3>

<p>OTC FX spot, forward and swap positions, one instrument for each currency. Fields:</p>

<ul>
<li>maturity (string (YYYY-MM-DD))</li>
<li>notional (number, negative for pay leg)</li>
</ul>

<p>Optional (adding FX swap feature)</p>

<ul>
<li>maturity_2 (string (YYYY-MM-DD))</li>
<li>notional_2 (number, negative for pay leg)</li>
<li>currency (string)</li>
</ul>

<h3>Irregular bond</h3>

<p>Fixed or floating rate irregular bond positions, supporting amortisation structures. Fields:</p>

<ul>
<li>effective_date (date string)</li>
<li>maturity (date string (YYYY-MM-DD, YYYY/MM/DD, DD.MM.YYYY))</li>
<li>notional (number)</li>
<li>fixed_rate (number, coupon rate for fixed rate loans, empty for floating rate loans)</li>
<li>tenor (number (0 for zerobond, 1 for one month, 3 for quarterly, 6 for semiannual and 12 for annual interest rate periods. Other positive integers are also interpreted as monthly periods)</li>
</ul>

<p>Optional (improving pricing accuracy or adding features):</p>

<ul>
<li>repay_amount (non-negative number representing the amount repaid at each repayment date, defaults to zero)</li>
<li>linear_amortization (boolean, defaults to "false". overrides repay_amount if true)</li>
<li>interest_capitalization (boolean, defaults to "false".)</li>
<li>float_spread (number, coupon spread for floater)</li>
<li>cap_rate (number)</li>
<li>floor_rate (number)</li>
<li>current_accrued_interest (number)</li>
<li>repay_tenor (number (0 for bullet repayment, 1 for one month, 3 for quarterly, 6 for semiannual and 12 for annual repayment schedules. Other positive integers are also interpreted as monthly periods)</li>
<li>first_date (date string representing the first or next interest payment date)</li>
<li>repay_first_date (date string representing the first or next repayment date)</li>
<li>fixing_first_date (date string representing the first or next fixing date)</li>
<li>next_to_last_date (date string)</li>
<li>repay_next_to_last_date (date string)</li>
<li>fixing_next_to_last_date (date string)</li>
<li>calendar (string)</li>
<li>bdc (string)</li>
<li>dcc (string)</li>
<li>residual_spread (number, discounting spread over yield and spread curves)</li>
<li>currency</li>
</ul>

<p>Optionally, this instrument type supports predetermined conditions. This requires an additional field:</p>

<ul>
<li>conditions_valid_until (array of date string representing the dates when conditions change. Last array element must match maturity)</li>
</ul>

<p>If conditions_valid_until is set, the fields below can optionally contain arrays instead of scalars. Length must be one or the length of conditions_valid_until:</p>

<ul>
<li>fixed_rate</li>
<li>amortization</li>
<li>repay_amount</li>
<li>float_spread</li>
<li>cap_rate</li>
<li>floot_rate</li>
</ul>

<h3>Equity</h3>

<p>Equity positions. Fields:</p>

<ul>
<li>quantity (number, number of pieces)</li>
<li>currency</li>
</ul>
